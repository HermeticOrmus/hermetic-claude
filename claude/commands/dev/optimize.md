---
description: Analyze and optimize code performance
thinking: true
---

# Code Optimization

Help me analyze and optimize the performance of this code.

## Analysis Steps

1. **Profile Current Performance**
   - Identify bottlenecks
   - Measure current metrics (time, memory, etc.)
   - Establish baseline

2. **Code Review**
   - Look for obvious inefficiencies
   - Check algorithm complexity
   - Identify unnecessary operations
   - Review data structures

3. **Common Issues to Check**
   - N+1 queries (database)
   - Unnecessary loops
   - Expensive operations in loops
   - Memory leaks
   - Blocking I/O
   - Missing caching
   - Inefficient data structures

## Optimization Strategies

1. **Algorithm Improvements**
   - Better algorithmic approach
   - Reduce time complexity
   - Optimize space usage

2. **Caching**
   - Memoization
   - Result caching
   - Query caching

3. **Lazy Loading**
   - Defer expensive operations
   - Load on demand

4. **Parallelization**
   - Concurrent processing
   - Async operations
   - Worker threads

5. **Database Optimization**
   - Query optimization
   - Index usage
   - Connection pooling

## Process

1. Measure current performance
2. Identify optimization opportunities
3. Implement improvements
4. Measure new performance
5. Compare before/after
6. Document optimizations

Focus on meaningful improvements (>10% gain) rather than micro-optimizations.
